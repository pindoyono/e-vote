╔════════════════════════════════════════════════════════════╗
║         🗳️  E-VOTE SMK NEGERI 2 MALINAU 🗳️               ║
║              APLIKASI SUDAH BERJALAN! ✅                   ║
╚════════════════════════════════════════════════════════════╝

📊 STATUS:
   PM2:     🟢 Online (1 instance, fork mode, 0 restarts)
   Nginx:   🟢 Running (Port 80, reverse proxy)
   Next.js: 🟢 Ready (Port 3000, production mode)
   Domain:  🟢 e.vote & www.e.vote configured
   Memory:  ~64 MB (stable)
   CPU:     0% (idle)

🌐 AKSES APLIKASI:
   Primary:    http://e.vote
   Secondary:  http://www.e.vote
   IP Direct:  http://172.27.110.18
   Localhost:  http://localhost

🔐 PANEL LOGIN:
   👤 Admin:     http://e.vote/admin/login
   👥 Panitia:   http://e.vote/committee/login
   📊 Monitoring: http://e.vote/monitoring
   🗳️ Voting:    http://e.vote/vote/[TOKEN]
   💚 Health:    http://e.vote/health

🖥️  AKSES DARI KOMPUTER LAIN:

   === WINDOWS ===
   1. Buka Notepad as Administrator
   2. Open: C:\Windows\System32\drivers\etc\hosts
   3. Tambahkan: 172.27.110.18 e.vote www.e.vote
   4. Save & Close
   5. Buka browser: http://e.vote

   === LINUX/MAC ===
   sudo nano /etc/hosts
   Tambahkan: 172.27.110.18 e.vote www.e.vote
   Save: Ctrl+O, Exit: Ctrl+X
   Buka browser: http://e.vote

   === ANDROID/iOS ===
   Install app "Hosts Editor"
   Tambahkan: 172.27.110.18 → e.vote
   Buka browser: http://e.vote

🛠️  MANAGEMENT COMMANDS:

   === PM2 ===
   pm2 status                    → Cek status aplikasi
   pm2 logs e-vote-production    → Lihat logs
   pm2 logs --lines 100          → Lihat 100 baris log
   pm2 restart e-vote-production → Restart aplikasi
   pm2 stop e-vote-production    → Stop aplikasi
   pm2 monit                     → Monitor real-time
   pm2 save                      → Save konfigurasi

   === NGINX ===
   sudo systemctl status nginx   → Cek status Nginx
   sudo systemctl restart nginx  → Restart Nginx
   sudo systemctl reload nginx   → Reload config
   sudo nginx -t                 → Test config
   sudo tail -f /var/log/nginx/evote-access.log → Access log
   sudo tail -f /var/log/nginx/evote-error.log  → Error log

   === APPLICATION ===
   cd /var/www/e-vote2          → Masuk ke folder app
   npm run build                → Build ulang
   pm2 restart e-vote-production → Restart setelah build

🔍 HEALTH CHECK:

   curl http://e.vote/health              → Should return: healthy
   curl -I http://e.vote                  → Should return: 200 OK
   curl -I http://e.vote/admin/login      → Should return: 200 OK
   pm2 status                             → Should show: online

🚨 TROUBLESHOOTING:

   === 502 Bad Gateway ===
   pm2 status
   pm2 restart e-vote-production

   === Cannot access e.vote ===
   cat /etc/hosts | grep e.vote
   # Jika kosong, tambahkan lagi:
   echo "127.0.0.1 e.vote www.e.vote" | sudo tee -a /etc/hosts

   === Application not responding ===
   pm2 logs --lines 50           → Cek error logs
   pm2 restart e-vote-production → Restart

   === Nginx not working ===
   sudo systemctl status nginx
   sudo systemctl restart nginx

   === Port conflict ===
   sudo lsof -i :80              → Cek apa yang pakai port 80
   sudo lsof -i :3000            → Cek apa yang pakai port 3000

📚 DOKUMENTASI LENGKAP:

   File                         Isi
   ─────────────────────────────────────────────────────────
   APLIKASI-RUNNING.md          Panduan lengkap aplikasi running
   VIRTUAL-HOST-COMPLETE.md     Setup virtual host e.vote
   VIRTUAL-HOST-SETUP.md        Detail konfigurasi Nginx
   DEPLOY-SUCCESS.md            Status deployment
   TROUBLESHOOTING.md           Panduan troubleshooting
   NGINX-SETUP.md               Setup Nginx reverse proxy
   VPS-DEPLOYMENT.md            Deployment guide
   ecosystem.config.js          PM2 configuration

🎯 QUICK START:

   === UNTUK ADMIN ===
   1. Buka http://e.vote/admin/login
   2. Login dengan kredensial admin
   3. Tambah kandidat & upload foto
   4. Tambah pemilih (manual/import Excel)
   5. Generate token untuk pemilih
   6. Bagikan token ke pemilih

   === UNTUK PEMILIH ===
   1. Terima token dari admin/panitia
   2. Buka http://e.vote/vote/[TOKEN-ANDA]
   3. Lihat profil kandidat
   4. Klik "PILIH" pada kandidat pilihan
   5. Konfirmasi pilihan
   6. Selesai!

   === UNTUK MONITORING ===
   1. Buka http://e.vote/monitoring
   2. Lihat hasil real-time
   3. Dashboard auto-refresh

📊 SYSTEM INFO:

   OS:          Ubuntu/Linux
   Node.js:     v18+ (LTS)
   Next.js:     v15.5.5
   React:       v19
   Database:    PostgreSQL (Supabase)
   Process Mgr: PM2
   Web Server:  Nginx 1.24.0
   Location:    /var/www/e-vote2

🔐 SECURITY:

   ✅ Token-based authentication
   ✅ Role-based access control (Admin/Committee)
   ✅ One vote per token
   ✅ Password hashing (bcrypt)
   ✅ SQL injection prevention (Prisma ORM)
   ✅ XSS protection headers
   ✅ CSRF protection
   ✅ Secure file uploads

✅ CHECKLIST DEPLOYMENT:

   [✅] Build successful (no errors)
   [✅] PM2 running (fork mode)
   [✅] Nginx configured (reverse proxy)
   [✅] Virtual host e.vote created
   [✅] DNS entry in /etc/hosts
   [✅] Security headers enabled
   [✅] Health check working
   [✅] All panels accessible
   [✅] Database connected
   [✅] File uploads configured
   [✅] Static assets cached
   [✅] Logs configured
   [✅] Auto-restart enabled
   [✅] Documentation complete

╔════════════════════════════════════════════════════════════╗
║                                                            ║
║           🎉 APLIKASI PRODUCTION READY! 🎉                ║
║                                                            ║
║     Silakan buka di browser: http://e.vote                ║
║                                                            ║
║  Pemilihan Ketua OSIS 2025 - SMK Negeri 2 Malinau        ║
║                                                            ║
╚════════════════════════════════════════════════════════════╝

Last Updated: October 17, 2025
Maintained by: E-Vote Development Team
Status: ONLINE ✅
